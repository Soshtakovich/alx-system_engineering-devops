#!/usr/bin/env bash

# Step 1: Install Nginx
sudo apt update
sudo apt install nginx -y

# Step 2: Create a configuration file for the redirection
sudo tee /etc/nginx/sites-available/redirect_me <<EOF
server {
    listen 80;
    listen [::]:80;

    server_name _;

    location /redirect_me {
        return 301 https://example.com/new-page;
    }

    # Redirect all other requests to the main server
    location / {
        return 301 https://example.com;
    }
}
EOF

# Step 3: Enable the site configuration
sudo ln -s /etc/nginx/sites-available/redirect_me /etc/nginx/sites-enabled/

# Step 4: Test Nginx configuration
sudo nginx -t

# Step 5: Restart Nginx to apply changes
sudo systemctl restart nginx
